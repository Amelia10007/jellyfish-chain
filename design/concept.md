# jellyfish chainのコンセプト
jellyfish chainは、以下の2点にアプローチしたプロトコル。
- チェーンのデータ量を削減できる
- 後からデータを編集できる、削除できる

## 背景
以下が一般的なブロックチェーンの弱点。
このうち、最後の2点への対応案として、jellyfish chainを考案する。

- トランザクション承認までの時間と耐障害性のトレードオフ
- 十分多くのノードが同じ台帳を保持していないといけない。ネットワーク全体としてデータの重複が多い
- ブロックが追加されていくにつれノードが保持しなければならないデータ量が増大する
- 過去のトランザクションを削除・修正できない

ただし、すべてのノードからトランザクションを消し去ることは不可能なので（ノードが過去のトランザクションを保持し続けるだけでよいため）、
最長チェーン、つまり正史からトランザクションを消し去ることに限定して考える。

## 基本動作
1. トランザクションの広報、ブロックの広報、承認は一般的なブロックチェーンと同様に行う
1. クライアントは、自分が以前に広報したトランザクションの修正・削除依頼をだす
1. 台帳は、上記の依頼を受け取り新規ブロックに依頼内容を記録する
1. ブロックが一定個数生成された後、台帳はチェックポイント用のブロックを生成する
1. チェックポイントブロックには、修正・削除対象外の全トランザクションと、修正後のトランザクションが記録される。削除対象のトランザクションは含まれない
1. 台帳は一定以上前のチェックポイントを基準に、それより前のブロックをチェーンから取り除く。多数派の台帳がこれを実施することをもって、修正前トランザクションはチェーンから消え去ったと「みなす」。つまりすべての台帳から修正・削除前のトランザクションが消えることまでは保証していない。

# jellyfish chainの特徴

## 利点
- 台帳はチェックポイント以前のブロックを破棄するため、チェーンのデータ量を削減できる
- クライアントは自分が広報したトランザクションを、チェーン上から編集・削除できる

# 課題
- 台帳に、クライアントが送信したトランザクション修正・削除要求を受け入れさせるようなインセンティブが必要。手数料モデルとか。
- チェーンにトランザクション修正・削除が反映されるまでに時間を要する。チェックポイントブロックを一定個数生成しないといけないため。
- 最長チェーンからトランザクションを修正・削除することはできるが、台帳のストレージからトランザクションを完全に消去することは保証できない
- プロトコルに従わない台帳がチェックポイント以前のブロックを保持していれば、ハッシュの関係から修正/削除前トランザクションの正当性を示せてしまう。データ量削減という観点ではそれでも問題ないか？
- 悪意あるノードがチェーンを攻撃する手段があるかもしれない

## プロトコル名の由来
クラゲ、特にベニクラゲはクラゲ、ポリプ、ストロビラ、エフィラ、クラゲと、姿を変えつつ生き続ける、一種の不老不死の生き物。
ブロックの生成と削除を繰り返す本プロトコルは、このようなベニクラゲの生態に共通点を見いだせることから、jellyfish chainと名付けられた。
